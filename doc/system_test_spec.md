# システムテスト仕様書 (System Test Specification)

## 1. 目的
本ドキュメントは、完成したアプリケーションが実際の利用環境（Webブラウザ）において、ユーザー要件を満たしているかを検証するためのテスト項目を定義する。

## 2. テスト対象範囲
- デプロイされたWebアプリケーション (GitHub Pages相当、またはローカルでの `flet run --web` 環境)
- ブラウザ互換性 (Chrome, Firefox, Safari等)

## 3. テスト実施環境
- クライアント: PC (Windows/Mac/Linux), スマートフォン/タブレット (iOS/Android)
- ブラウザ: Google Chrome, Safari, Firefox, Edge の最新版

## 4. テスト項目

### 4.1 機能要件確認 (End-to-End)

| ID | テスト項目名 | 前提条件 | 入力操作 | 期待値 (Expected Result) | 備考 |
|----|------------|----------|---------|-------------------------|------|
| ST-01 | アプリ起動 (初期ロード) | ブラウザでURLにアクセス | アプリを開く | ローディング画面を経て、UI（キャンバス、ボタン）が正しく表示されること。JSエラーが出ていないこと | 初回ロード時間を確認 |
| ST-02 | 基本操作シナリオ (PC) | PCブラウザ | '7'を描画 -> 判定 -> 確認 -> クリア | 一連の動作がスムーズに行え、正解 ('7') が表示されること | |
| ST-03 | 基本操作シナリオ (SP) | スマホブラウザ | タッチで'2'を描画 -> 判定 | タッチ操作で描画ができ、正しく判定されること。レイアウト崩れがないこと | |

### 4.2 非機能要件確認

| ID | テスト項目名 | 前提条件 | 入力操作 | 期待値 (Expected Result) | 備考 |
|----|------------|----------|---------|-------------------------|------|
| ST-04 | 画面サイズ追従 (レスポンシブ) | PCブラウザ | ウィンドウ幅を狭くする/広くする | キャンバスやボタンが画面外にはみ出さず、適切にリサイズまたは配置調整されること | |
| ST-05 | パフォーマンス (応答速度) | アプリ起動中 | 判定ボタン押下 | 押下から結果表示まで 1.0秒以内 であること (モデルロード初回を除く) | |
| ST-06 | オフロード動作 (PWA/キャッシュ) | 一度ロード済み | ネットワークを切断してリロード (または操作) | (PWA対応の場合) アプリが起動、またはキャッシュ済みリソースで動作すること ※要件次第 | WebAssemblyロード周りの確認 |

### 4.3 異常系・境界値

| ID | テスト項目名 | 前提条件 | 入力操作 | 期待値 (Expected Result) | 備考 |
|----|------------|----------|---------|-------------------------|------|
| ST-07 | 画面外への描画 | キャンバス端付近 | キャンバスの外へドラッグして戻る | エラーにならず、キャンバス内の線のみが描画（または外に出た分は無視）されること | |
| ST-08 | 高速連打 | アプリ起動中 | 「判定」「クリア」を高速で交互に連打 | アプリがフリーズせず、最終的な操作が反映されること | |

## 5. 判定基準
主要ブラウザで ST-01〜ST-03 が確実に動作し、重大なバグ（アプリ停止、誤判定の頻発、レイアウト崩壊）がないこと。
