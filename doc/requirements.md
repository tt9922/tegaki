# 要件定義書 (Requirements Definition)

## 1. プロジェクト概要
FletとMNISTデータセットを使用した手書き数字判定Webアプリを開発する。
ユーザーが画面上のキャンバスに数字を描き、「判定」ボタンを押すと、AIがその数字を予測して表示する。
GitHub Pages上で動作する静的なWebアプリ（WASM）として公開することを最終目標とする。

## 2. 目的・ゴール
- **インタラクティブなAI体験**: ユーザー自身が書いた文字をAIが認識する楽しさを提供する。
- **Webブラウザでの動作**: インストール不要で、PC・スマホ問わずブラウザだけで動作させる。
- **軽量なAI実装**: クライアントサイド（ブラウザ）で完結する軽量なシステムを構築する。

## 3. 機能要件

### 3.1 ユーザーインターフェース (UI)
- **描画キャンバス**:
  - マウスまたはタッチ操作で数字（0〜9）を描画できる白い領域。
  - ペンは黒色（または視認しやすい色）で、太めの線。
- **操作ボタン**:
  - **判定ボタン**: 描かれた内容をAIに渡して予測を実行する。
  - **クリアボタン**: キャンバスを真っ白な状態に戻す。
- **結果表示**:
  - 予測された数字（0〜9）を大きく表示する。
  - （オプション）確信度（確率）も表示する。

### 3.2 機能処理
- **描画データの取得**:
  - ユーザーのストローク（線の軌跡）を取得し、メモリ上に保持する。
- **画像変換 (Rasterization)**:
  - ストロークデータをMNIST形式（28x28ピクセル、黒背景に白文字、グレースケール）の画像データ(配列)に変換する。
- **AI予測**:
  - 学習済みモデルを使用して、入力画像から数字を特定する。
  - **制約**: ブラウザ上(Pyodide)で動作する必要があるため、TensorFlowではなく**scikit-learn**を採用する。

### 3.3 非機能要件
- **レスポンシブ**: PCおよびモバイル端末（スマートフォン・タブレット）で適切なレイアウトで表示されること。
- **パフォーマンス**: 判定ボタン押下から1秒以内に結果を表示する。
- **デプロイ**: GitHub Actionsを使用してGitHub Pagesへ自動デプロイ可能にする。

## 4. 技術的制約
- **フレームワーク**: Flet (Python)
- **ターゲットプラットフォーム**: Web (WASM via Pyodide)
- **使用ライブラリ(Webランタイム)**:
  - `flet`
  - `numpy`
  - `scikit-learn` (TensorFlowはWASM未対応/重いため使用しない)
  - `Pillow` (または `opencv-python` が利用可能か確認し、軽い方を選択。画像前処理用)
